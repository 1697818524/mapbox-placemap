# å‰ç«¯é¡¹ç›®æ¶æ„æ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ public/                      # é™æ€èµ„æºç›®å½•
â”‚   â””â”€â”€ vite.svg
â”‚
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.ts                 # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                    # API è¯·æ±‚æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.ts           # API ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ mapbox.ts          # Mapbox Geocoding API
â”‚   â”‚   â”œâ”€â”€ image.ts           # å›¾ç‰‡æœç´¢ API
â”‚   â”‚   â””â”€â”€ scheme.ts           # é…è‰²æ–¹æ¡ˆç”Ÿæˆ API
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                 # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â””â”€â”€ vue.svg
â”‚   â”‚
â”‚   â”œâ”€â”€ components/             # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Navbar.vue         # å¯¼èˆªæ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MapDisplay.vue     # åœ°å›¾æ˜¾ç¤ºç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MapInfo.vue        # åœ°å›¾ä¿¡æ¯æ ç»„ä»¶ï¼ˆå·¦ä¾§ï¼‰
â”‚   â”‚   â”œâ”€â”€ MapSearch.vue      # åœ°ç‚¹æœç´¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ MapStyle.vue       # åœ°å›¾æ ·å¼é…ç½®ç»„ä»¶ï¼ˆå³ä¾§ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ composables/           # ç»„åˆå¼å‡½æ•°ï¼ˆComposablesï¼‰
â”‚   â”‚   â”œâ”€â”€ index.ts           # Composables ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ useDebounce.ts     # é˜²æŠ–å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ useGeocoding.ts    # åœ°ç†ç¼–ç æœç´¢é€»è¾‘
â”‚   â”‚   â””â”€â”€ useMap.ts          # åœ°å›¾åˆå§‹åŒ–å’Œç®¡ç†é€»è¾‘
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts           # é…ç½®ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ constants.ts       # åº”ç”¨å¸¸é‡é…ç½®
â”‚   â”‚   â””â”€â”€ mapbox.ts          # Mapbox é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ i18n/                   # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ index.ts           # i18n åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ locales/           # è¯­è¨€åŒ…
â”‚   â”‚       â”œâ”€â”€ zh-CN.ts       # ä¸­æ–‡è¯­è¨€åŒ…
â”‚   â”‚       â””â”€â”€ en-US.ts       # è‹±æ–‡è¯­è¨€åŒ…
â”‚   â”‚
â”‚   â”œâ”€â”€ router/                 # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts           # Vue Router é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                 # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts           # Store å®šä¹‰å’Œå¯¼å‡º
â”‚   â”‚   â””â”€â”€ theme.ts            # ä¸»é¢˜ Storeï¼ˆå¦‚éœ€è¦ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                 # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ main.css           # ä¸»æ ·å¼æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ index.ts           # ç±»å‹ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ api.ts             # API ç›¸å…³ç±»å‹
â”‚   â”‚   â””â”€â”€ map.ts             # åœ°å›¾ç›¸å…³ç±»å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ index.ts           # å·¥å…·å‡½æ•°ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ storage.ts         # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”‚   â””â”€â”€ validation.ts      # éªŒè¯å·¥å…·å‡½æ•°
â”‚   â”‚
â”‚   â””â”€â”€ views/                  # é¡µé¢è§†å›¾
â”‚       â””â”€â”€ Home.vue           # é¦–é¡µè§†å›¾
â”‚
â”œâ”€â”€ index.html                  # HTML å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts              # Vite æ„å»ºé…ç½®
â”œâ”€â”€ postcss.config.js           # PostCSS é…ç½®
â””â”€â”€ ARCHITECTURE.md             # æ¶æ„æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

## ğŸ”§ æ¨¡å—è¯´æ˜

### 1. åº”ç”¨å…¥å£ (`src/main.ts`)

- Vue åº”ç”¨å®ä¾‹åˆ›å»º
- æ’ä»¶æ³¨å†Œï¼ˆPiniaã€Routerã€i18nã€Element Plusï¼‰
- Element Plus å›¾æ ‡å…¨å±€æ³¨å†Œ
- åº”ç”¨æŒ‚è½½

### 2. API æ¨¡å— (`src/api/`)

ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ API è¯·æ±‚ï¼Œæä¾›ç±»å‹å®‰å…¨çš„æ¥å£è°ƒç”¨ã€‚

#### `mapbox.ts`
- `geocodingApi.search(query: string)`: Mapbox Geocoding API æœç´¢åœ°ç‚¹
- è¿”å›ç±»å‹ï¼š`GeocodeResponse`

#### `image.ts`
- `imageApi.search(keyword: string, count: number)`: å›¾ç‰‡æœç´¢ API
- è¯·æ±‚ï¼š`GET /api/images/search?keyword={keyword}&count={count}`
- è¿”å›ç±»å‹ï¼š`ImageResult[]`

#### `scheme.ts`
- `schemeApi.generateSchemes(request: GenerateSchemesRequest)`: é…è‰²æ–¹æ¡ˆç”Ÿæˆ API
- è¯·æ±‚ï¼š`POST /api/schemes/generate`
- è¯·æ±‚ä½“ï¼š`{ currentScheme: ColorScheme, count: number }`
- è¿”å›ç±»å‹ï¼š`GenerateSchemesResponse`

### 3. ç»„ä»¶æ¨¡å— (`src/components/`)

#### `Navbar.vue`
- é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶
- åŠŸèƒ½ï¼šè¯­è¨€åˆ‡æ¢ã€ç³»ç»Ÿæ ‡é¢˜æ˜¾ç¤º

#### `MapDisplay.vue`
- åœ°å›¾æ˜¾ç¤ºæ ¸å¿ƒç»„ä»¶
- åŠŸèƒ½ï¼š
  - Mapbox GL JS åœ°å›¾åˆå§‹åŒ–
  - åœ°å›¾å®ä¾‹ç®¡ç†
  - é€šè¿‡ `provide/inject` å‘å…„å¼Ÿç»„ä»¶æä¾›åœ°å›¾å®ä¾‹

#### `MapInfo.vue`ï¼ˆå·¦ä¾§ä¿¡æ¯æ ï¼‰
- åœ°å›¾ä¿¡æ¯å±•ç¤ºç»„ä»¶
- åŠŸèƒ½ï¼š
  - é›†æˆ `MapSearch` ç»„ä»¶
  - æ˜¾ç¤ºæœç´¢ç»“æœçš„ç›¸å…³å›¾ç‰‡
  - å›¾ç‰‡ç½‘æ ¼å±•ç¤ºï¼ˆ3åˆ—å¸ƒå±€ï¼‰
  - å›¾ç‰‡ç‚¹å‡»é¢„è§ˆ

#### `MapSearch.vue`
- åœ°ç‚¹æœç´¢ç»„ä»¶
- åŠŸèƒ½ï¼š
  - æœç´¢è¾“å…¥æ¡†ï¼ˆå¸¦é˜²æŠ–ï¼‰
  - æœç´¢ç»“æœä¸‹æ‹‰åˆ—è¡¨
  - é€‰æ‹©åœ°ç‚¹åè§¦å‘åœ°å›¾è·³è½¬
  - è§¦å‘å›¾ç‰‡æœç´¢äº‹ä»¶

#### `MapStyle.vue`ï¼ˆå³ä¾§æ ·å¼æ ï¼‰
- åœ°å›¾æ ·å¼é…ç½®ç»„ä»¶ï¼ˆæ ¸å¿ƒåŠŸèƒ½ç»„ä»¶ï¼‰
- åŠŸèƒ½ï¼š
  - å›¾å±‚é¢œè‰²é…ç½®ï¼ˆæ°´ä½“ã€é“è·¯ã€å»ºç­‘ã€ç»¿åœ°ã€æ³¨è®°ï¼‰
  - é¢œè‰²é€‰æ‹©å™¨ï¼ˆElement Plus ColorPickerï¼‰
  - å®æ—¶åº”ç”¨é¢œè‰²åˆ°åœ°å›¾å›¾å±‚
  - ç”Ÿæˆé…è‰²æ–¹æ¡ˆï¼ˆè°ƒç”¨åç«¯ APIï¼‰
  - æ–¹æ¡ˆåˆ—è¡¨å±•ç¤ºå’Œç®¡ç†
  - é¢œè‰²æ–¹æ¡ˆçŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰

### 4. ç»„åˆå¼å‡½æ•° (`src/composables/`)

#### `useMap.ts`
- åœ°å›¾åˆå§‹åŒ–å’Œç®¡ç†é€»è¾‘
- åŠŸèƒ½ï¼š
  - åœ°å›¾å®ä¾‹åˆ›å»ºå’Œé…ç½®
  - åœ°å›¾æ§ä»¶æ·»åŠ ï¼ˆå¯¼èˆªã€å…¨å±ï¼‰
  - åœ°å›¾çŠ¶æ€åŒæ­¥ï¼ˆcenterã€zoomï¼‰
  - ä¸ Pinia store åŒå‘åŒæ­¥
  - ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆæ¸…ç†èµ„æºï¼‰

#### `useGeocoding.ts`
- åœ°ç†ç¼–ç æœç´¢é€»è¾‘
- åŠŸèƒ½ï¼š
  - è°ƒç”¨ Mapbox Geocoding API
  - æœç´¢ç»“æœå¤„ç†
  - é˜²æŠ–å¤„ç†

#### `useDebounce.ts`
- é˜²æŠ–å·¥å…·å‡½æ•°
- ç”¨äºæœç´¢è¾“å…¥é˜²æŠ–

### 5. çŠ¶æ€ç®¡ç† (`src/stores/`)

#### `index.ts`
å®šä¹‰äº†ä¸‰ä¸ª Pinia Storeï¼š

**`useAppStore`**
- `locale`: å½“å‰è¯­è¨€ï¼ˆzh-CN / en-USï¼‰
- `setLocale()`: è®¾ç½®è¯­è¨€

**`useMapStore`**
- `center`: åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡ `[lng, lat]`
- `zoom`: åœ°å›¾ç¼©æ”¾çº§åˆ«
- `setCenter()`: è®¾ç½®ä¸­å¿ƒç‚¹
- `setZoom()`: è®¾ç½®ç¼©æ”¾çº§åˆ«
- `setView()`: åŒæ—¶è®¾ç½®ä¸­å¿ƒç‚¹å’Œç¼©æ”¾çº§åˆ«

**`useColorSchemeStore`**
- `currentScheme`: å½“å‰é¢œè‰²æ–¹æ¡ˆ
- `colorSchemes`: ç”Ÿæˆçš„é…è‰²æ–¹æ¡ˆåˆ—è¡¨
- `setCurrentScheme()`: è®¾ç½®å½“å‰æ–¹æ¡ˆ
- `addColorScheme()`: æ·»åŠ æ–¹æ¡ˆåˆ°åˆ—è¡¨
- `setColorSchemes()`: æ‰¹é‡è®¾ç½®æ–¹æ¡ˆåˆ—è¡¨
- `clearColorSchemes()`: æ¸…ç©ºæ–¹æ¡ˆåˆ—è¡¨

### 6. ç±»å‹å®šä¹‰ (`src/types/`)

#### `api.ts`
- `GeocodeResponse`: Mapbox Geocoding API å“åº”
- `GeocodeFeature`: åœ°ç†ç¼–ç ç‰¹å¾
- `ImageResult`: å›¾ç‰‡æœç´¢ç»“æœ

#### `map.ts`
- `MapState`: åœ°å›¾çŠ¶æ€ç±»å‹
- `LngLatTuple`: ç»çº¬åº¦å…ƒç»„ç±»å‹

#### `stores/index.ts`ï¼ˆç±»å‹å®šä¹‰ï¼‰
- `ColorSchemeItem`: é¢œè‰²æ–¹æ¡ˆé¡¹
- `ColorScheme`: é¢œè‰²æ–¹æ¡ˆ
- `ColorSchemeWithId`: å¸¦IDçš„é¢œè‰²æ–¹æ¡ˆ

### 7. é…ç½®æ¨¡å— (`src/config/`)

#### `constants.ts`
- `MAP_CONFIG`: åœ°å›¾é…ç½®ï¼ˆé»˜è®¤ä¸­å¿ƒç‚¹ã€ç¼©æ”¾çº§åˆ«ã€åŒæ­¥å»¶è¿Ÿç­‰ï¼‰
- `API_CONFIG`: API é…ç½®ï¼ˆè¶…æ—¶æ—¶é—´ã€é˜²æŠ–å»¶è¿Ÿã€æœç´¢é™åˆ¶ç­‰ï¼‰
- `STORAGE_KEYS`: æœ¬åœ°å­˜å‚¨é”®å
- `IMAGE_CONFIG`: å›¾ç‰‡é…ç½®ï¼ˆç½‘æ ¼åˆ—æ•°ã€ç¼©ç•¥å›¾å°ºå¯¸ç­‰ï¼‰

#### `mapbox.ts`
- `MAPBOX_CONFIG`: Mapbox é…ç½®ï¼ˆAccess Tokenã€é»˜è®¤æ ·å¼ç­‰ï¼‰

### 8. å·¥å…·å‡½æ•° (`src/utils/`)

#### `storage.ts`
- `get<T>(key: string, defaultValue?: T)`: è·å–æœ¬åœ°å­˜å‚¨å€¼
- `set(key: string, value: any)`: è®¾ç½®æœ¬åœ°å­˜å‚¨å€¼
- `remove(key: string)`: åˆ é™¤æœ¬åœ°å­˜å‚¨å€¼
- `clear()`: æ¸…ç©ºæœ¬åœ°å­˜å‚¨

#### `validation.ts`
- éªŒè¯å·¥å…·å‡½æ•°ï¼ˆå¦‚é‚®ç®±ã€URL ç­‰éªŒè¯ï¼‰

### 9. è·¯ç”±é…ç½® (`src/router/`)

#### `index.ts`
- Vue Router é…ç½®
- è·¯ç”±å®šä¹‰ï¼š
  - `/` â†’ `Home.vue`ï¼ˆé¦–é¡µï¼‰

### 10. å›½é™…åŒ– (`src/i18n/`)

#### `index.ts`
- Vue I18n åˆå§‹åŒ–
- è¯­è¨€åŒ…æ³¨å†Œ

#### `locales/zh-CN.ts` & `locales/en-US.ts`
- ä¸­æ–‡å’Œè‹±æ–‡è¯­è¨€åŒ…
- åŒ…å«æ‰€æœ‰ UI æ–‡æœ¬çš„ç¿»è¯‘

### 11. é¡µé¢è§†å›¾ (`src/views/`)

#### `Home.vue`
- é¦–é¡µè§†å›¾ç»„ä»¶
- å¸ƒå±€ç»“æ„ï¼š
  - é¡¶éƒ¨ï¼š`Navbar` ç»„ä»¶
  - ä¸»ä½“ï¼šä¸‰æ å¸ƒå±€
    - å·¦ä¾§ï¼š`MapInfo` ç»„ä»¶ï¼ˆ300pxï¼‰
    - ä¸­é—´ï¼š`MapDisplay` ç»„ä»¶ï¼ˆflex-growï¼‰
    - å³ä¾§ï¼š`MapStyle` ç»„ä»¶ï¼ˆ400pxï¼‰
- é€šè¿‡ `provide/inject` å‘å­ç»„ä»¶æä¾›åœ°å›¾å®ä¾‹å¼•ç”¨

## ğŸ”„ æ•°æ®æµå’Œç»„ä»¶é€šä¿¡

### 1. åœ°å›¾çŠ¶æ€åŒæ­¥æµç¨‹

```
MapDisplay (useMap) â†â†’ Pinia Store (useMapStore) â†â†’ MapSearch (useGeocoding)
```

- `MapDisplay` ç»„ä»¶é€šè¿‡ `useMap` composable åˆå§‹åŒ–åœ°å›¾
- åœ°å›¾ç§»åŠ¨æ—¶ï¼Œé€šè¿‡é˜²æŠ–åŒæ­¥åˆ° `useMapStore`
- `MapSearch` é€‰æ‹©åœ°ç‚¹åï¼Œæ›´æ–° `useMapStore`ï¼Œè§¦å‘åœ°å›¾è·³è½¬

### 2. é…è‰²æ–¹æ¡ˆç”Ÿæˆæµç¨‹

```
MapStyle â†’ schemeApi.generateSchemes() â†’ Backend API
         â† ColorSchemeWithId[] â†
         â†’ useColorSchemeStore.setColorSchemes()
         â†’ æ–¹æ¡ˆåˆ—è¡¨å±•ç¤º
```

### 3. å›¾ç‰‡æœç´¢æµç¨‹

```
MapSearch (è¾“å…¥) â†’ MapInfo (handleSearchEnter)
                â†’ imageApi.search()
                â†’ Backend API
                â† ImageResult[]
                â†’ MapInfo (å›¾ç‰‡ç½‘æ ¼å±•ç¤º)
```

### 4. åœ°å›¾æ ·å¼åº”ç”¨æµç¨‹

```
MapStyle (é¢œè‰²é€‰æ‹©å™¨) â†’ updateLayerColor()
                    â†’ applyColorsToMap()
                    â†’ map.setPaintProperty()
                    â†’ åœ°å›¾å®æ—¶æ›´æ–°
                    â†’ updateColorSchemeInStore()
                    â†’ Pinia Store åŒæ­¥
```

## ğŸ¨ UI/UX è®¾è®¡

### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Navbar (100px)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                  â”‚          â”‚
â”‚ MapInfo  â”‚   MapDisplay     â”‚ MapStyle â”‚
â”‚ (300px)  â”‚   (flex-grow)    â”‚ (400px)  â”‚
â”‚          â”‚                  â”‚          â”‚
â”‚ - æœç´¢   â”‚   - åœ°å›¾å±•ç¤º      â”‚ - æ ·å¼é…ç½®â”‚
â”‚ - å›¾ç‰‡   â”‚   - äº¤äº’æ§åˆ¶      â”‚ - æ–¹æ¡ˆç”Ÿæˆâ”‚
â”‚          â”‚                  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å“åº”å¼è®¾è®¡

- ç§»åŠ¨ç«¯ï¼šä¸‰æ å¸ƒå±€å¯è°ƒæ•´ä¸ºå•åˆ—æˆ–åŒåˆ—
- å›¾ç‰‡ç½‘æ ¼ï¼šæ¡Œé¢ç«¯ 3 åˆ—ï¼Œç§»åŠ¨ç«¯ 2 åˆ—

## ğŸ“¦ ä¾èµ–åŒ…è¯´æ˜

### æ ¸å¿ƒä¾èµ–

- **vue** (^3.5.24): Vue 3 æ¡†æ¶
- **vue-router** (^4.6.4): è·¯ç”±ç®¡ç†
- **pinia** (^3.0.4): çŠ¶æ€ç®¡ç†
- **vue-i18n** (^11.2.7): å›½é™…åŒ–

### UI åº“

- **element-plus** (^2.13.0): UI ç»„ä»¶åº“
- **@element-plus/icons-vue** (^2.3.2): Element Plus å›¾æ ‡

### åœ°å›¾åº“

- **mapbox-gl** (^3.17.0): Mapbox GL JS åœ°å›¾åº“
- **@types/mapbox-gl** (^3.4.1): TypeScript ç±»å‹å®šä¹‰

### å¼€å‘å·¥å…·

- **vite** (^7.2.4): æ„å»ºå·¥å…·
- **typescript** (~5.9.3): TypeScript æ”¯æŒ
- **vue-tsc** (^3.1.4): Vue TypeScript ç¼–è¯‘å™¨
- **eslint**: ä»£ç æ£€æŸ¥
- **prettier**: ä»£ç æ ¼å¼åŒ–

## ğŸ” ç¯å¢ƒå˜é‡é…ç½®

### `.env` æ–‡ä»¶

```env
# API åŸºç¡€åœ°å€
VITE_API_BASE_URL=http://localhost:8000

# Mapbox Token
VITE_MAPBOX_TOKEN=your_mapbox_token_here
```

## ğŸš€ å¼€å‘å·¥ä½œæµ

### 1. å¼€å‘æ¨¡å¼

```bash
npm run dev
```

å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆé»˜è®¤ http://localhost:5173ï¼‰

### 2. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### 3. é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

### 4. ä»£ç æ£€æŸ¥

```bash
npm run lint
```

### 5. ä»£ç æ ¼å¼åŒ–

```bash
npm run format
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. åœ°å›¾å›¾å±‚é¢œè‰²é…ç½®

**å®ç°ä½ç½®**: `MapStyle.vue`

- æ”¯æŒé…ç½®çš„å›¾å±‚ç±»å‹ï¼š
  - æ°´ä½“å›¾å±‚ï¼ˆwater, waterwayï¼‰
  - é“è·¯å›¾å±‚ï¼ˆpedestrian, path, minor, street, secondary-tertiary, primary, motorway-trunkï¼‰
  - å»ºç­‘å›¾å±‚ï¼ˆbuildingï¼‰
  - ç»¿åœ°/åœŸåœ°å›¾å±‚ï¼ˆlandcover, national-park, landuseï¼‰
  - æ³¨è®°å›¾å±‚ï¼ˆwaterway-label, water-line-label, water-point-label, road-label, place-label, poi-labelï¼‰

- é¢œè‰²æ ¼å¼è½¬æ¢ï¼š
  - HEX â†’ RGBï¼ˆMapbox éœ€è¦çš„æ ¼å¼ï¼‰
  - RGB â†’ HEXï¼ˆæ˜¾ç¤ºå’Œå­˜å‚¨ï¼‰

### 2. é…è‰²æ–¹æ¡ˆç”Ÿæˆ

**å®ç°ä½ç½®**: `MapStyle.vue` â†’ `schemeApi.generateSchemes()`

- æ”¶é›†å½“å‰æ‰€æœ‰å›¾å±‚çš„é¢œè‰²é…ç½®
- ç”ŸæˆåŒ…å«æ‰€æœ‰å›¾å±‚çš„å®Œæ•´é¢œè‰²æ–¹æ¡ˆ
- è°ƒç”¨åç«¯ API ç”Ÿæˆä¼˜åŒ–æ–¹æ¡ˆ
- å±•ç¤ºç”Ÿæˆçš„æ–¹æ¡ˆåˆ—è¡¨

### 3. å›¾ç‰‡æœç´¢å’Œå±•ç¤º

**å®ç°ä½ç½®**: `MapInfo.vue` â†’ `imageApi.search()`

- åŸºäºæœç´¢å…³é”®è¯è·å–å›¾ç‰‡
- å›¾ç‰‡ç½‘æ ¼å±•ç¤ºï¼ˆ3åˆ—å¸ƒå±€ï¼‰
- å›¾ç‰‡æ‡’åŠ è½½å’Œé”™è¯¯å¤„ç†
- å›¾ç‰‡ç‚¹å‡»é¢„è§ˆï¼ˆæ–°çª—å£æ‰“å¼€ï¼‰

### 4. åœ°å›¾å®ä¾‹å…±äº«

**å®ç°æ–¹å¼**: Vue `provide/inject`

- `Home.vue` åˆ›å»ºåœ°å›¾å®ä¾‹å¼•ç”¨
- é€šè¿‡ `provide('mapInstance', mapRef)` æä¾›ç»™å­ç»„ä»¶
- `MapDisplay.vue` åˆå§‹åŒ–åœ°å›¾å¹¶æ›´æ–°å¼•ç”¨
- `MapStyle.vue` é€šè¿‡ `inject` è·å–åœ°å›¾å®ä¾‹è¿›è¡Œæ ·å¼æ“ä½œ

## ğŸ“ ä»£ç è§„èŒƒ

### TypeScript

- ä¸¥æ ¼æ¨¡å¼å¯ç”¨
- æ‰€æœ‰ API è°ƒç”¨éƒ½æœ‰ç±»å‹å®šä¹‰
- ç»„ä»¶ Props å’Œ Emits éƒ½æœ‰ç±»å‹å®šä¹‰

### ç»„ä»¶å‘½å

- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨ PascalCaseï¼š`MapDisplay.vue`
- Composables ä½¿ç”¨ camelCase å¹¶ä»¥ `use` å¼€å¤´ï¼š`useMap.ts`

### æ–‡ä»¶ç»„ç»‡

- æ¯ä¸ªæ¨¡å—éƒ½æœ‰ `index.ts` ç»Ÿä¸€å¯¼å‡º
- ç±»å‹å®šä¹‰é›†ä¸­ç®¡ç†
- å·¥å…·å‡½æ•°æŒ‰åŠŸèƒ½åˆ†ç±»

## ğŸ”„ æœªæ¥æ‰©å±•

### å¯èƒ½çš„åŠŸèƒ½æ‰©å±•

1. **æ–¹æ¡ˆä¿å­˜å’ŒåŠ è½½**
   - å°†é…è‰²æ–¹æ¡ˆä¿å­˜åˆ°æœ¬åœ°æˆ–åç«¯
   - æ”¯æŒæ–¹æ¡ˆå¯¼å…¥å¯¼å‡º

2. **æ–¹æ¡ˆé¢„è§ˆå’Œå¯¹æ¯”**
   - æ–¹æ¡ˆé¢„è§ˆåŠŸèƒ½
   - å¤šæ–¹æ¡ˆå¯¹æ¯”è§†å›¾

3. **æ›´å¤šåœ°å›¾æ ·å¼**
   - æ”¯æŒå¤šç§ Mapbox æ ·å¼åˆ‡æ¢
   - è‡ªå®šä¹‰æ ·å¼å¯¼å…¥

4. **ç”¨æˆ·ç³»ç»Ÿ**
   - ç”¨æˆ·ç™»å½•æ³¨å†Œ
   - ä¸ªäººæ–¹æ¡ˆåº“

5. **åˆ†äº«åŠŸèƒ½**
   - æ–¹æ¡ˆåˆ†äº«é“¾æ¥ç”Ÿæˆ
   - ç¤¾äº¤åª’ä½“åˆ†äº«
